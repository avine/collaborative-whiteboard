<canvas #canvasResult class="cw-canvas__result"></canvas>

<div
  *ngIf="showGuides"
  class="cw-canvas__guides"
  [ngClass]="{
    'cw-canvas__guides--10': pointerMagnet === 10,
    'cw-canvas__guides--20': pointerMagnet === 20,
    'cw-canvas__guides--30': pointerMagnet === 30,
    'cw-canvas__guides--40': pointerMagnet === 40
  }"
></div>

<cw-canvas-broadcast-preview
  [broadcast]="broadcast"
  [canvasSize]="canvasSize"
  (redraw)="redraw()"
  (drawEvent)="handleResult($event)"
></cw-canvas-broadcast-preview>

<canvas
  #canvasEmit
  class="cw-canvas__preview"
  [class.cw-canvas__preview--readonly]="drawDisabled"
  cwPointer
  [cwPointerMagnet]="pointerMagnet"
  [cwPointerMagnetShift]="pointerMagnetShift"
  [cwPointerSensitivity]="pointerSensitivity"
  [cwPointerSensitivityOrigin]="pointerSensitivityOrigin"
  (cwPointerEnd)="drawDisabled || pointerEnd($event[0], $event[1])"

  [cwEmitPreview]="this.drawMode !== 'selection'"
  [cwSelectionPreview]="this.drawMode === 'selection'"

  [cwContextResult]="contextResult"

  [cwContext]="contextEmit"
  [cwDrawMode]="drawMode"
  [cwDrawOptions]="drawOptions"
></canvas>
