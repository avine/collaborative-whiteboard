<div
  cdkDrag
  [cdkDragBoundary]="dragBoundarySelector"
  class="cw-tool-group"
  [class.cw-tool-group--vertical]="layoutVertical"
  (cdkDragEnded)="cleanCachedDimensions($event)"
>
  <button
    class="cw-tool-group__action cw-tool-group__action--drag cw-button--less"
    title="Drag / Change direction"
    (dblclick)="layoutVertical = !layoutVertical"
  >
    <cw-icon icon="drag" cdkDragHandle></cw-icon>
  </button>

  <ng-container *ngIf="!collapse">
    <button
      *ngFor="let tool of tools"
      class="cw-tool-group__action cw-tool-group__action--tool cw-button--less"
      [class.cw-tool-group__action--active]="tool.active"
      [title]="tool.title"
      (click)="toggleActive(tool)"
    >
      <ng-container *ngTemplateOutlet="tool.label"></ng-container>
    </button>
  </ng-container>

  <button
    class="cw-tool-group__action cw-tool-group__action--tool cw-button--less"
    [class.cw-tool-group__action--active]="collapse"
    [title]="collapse ? 'Expand' : 'Collapse'"
    (click)="collapse = !collapse"
  >
    <cw-icon [icon]="collapse ? 'expand' : 'collapse'"></cw-icon>
  </button>
</div>

<ng-container #portal></ng-container>
